% Fonts
\usepackage[english]{babel}
\usepackage[log-declarations=false]{xparse}
\usepackage{luainputenc}
\usepackage{fontspec}
\pdfprotrudechars=2
\directlua{fonts.protrusions.setups.default.factor=.5}
\pdfadjustspacing=2
\newfontfeature{Microtype}{protrusion=default;expansion=default;}
\setmainfont[Microtype, Ligatures=TeX]{Adobe Caslon Pro}
\setmonofont{Bitstream Vera Sans Mono}

% Scala format
\usepackage{listings}
\lstdefinelanguage{Scala}{
  morekeywords={abstract, case, catch, char, class, def, else, extends, final, if, import, match, module, new, null, object, override, package, private, protected, public, return, super, this, throw, trait, try, type, val, var, with, implicit, macro, sealed, true, false},
  sensitive,
  morecomment=[l]//,
  morecomment=[s]{/*}{*/},
  morestring=[b]",
  morestring=[b]',
  showstringspaces=false
}[keywords, comments, strings]
\lstset{
  tabsize=2,
  basicstyle=\ttfamily\fontsize{9pt}{1.1em}\selectfont,
  keywordstyle=\bfseries,
  commentstyle=\itshape\ttfamily\fontsize{9pt}{1.1em}\selectfont,
  language=scala,
  breaklines=false,
  mathescape=false,
  showspaces=false,
  showstringspaces=false,
  classoffset=0pt,
  aboveskip=0pt,
  belowskip=0pt
}

% Quotes
\usepackage[autostyle=false, style=english]{csquotes}
\MakeOuterQuote{"}

% Links
\usepackage{silence}
\WarningsOff*
\usepackage[hidelinks]{hyperref}
\WarningsOn
\renewcommand*{\UrlFont}{\ttfamily\footnotesize\relax}
\hypersetup{pageanchor=false}
\expandafter\def\expandafter\UrlBreaks\expandafter{\UrlBreaks
  \do\a\do\b\do\c\do\d\do\e\do\f\do\g\do\h\do\i\do\j
  \do\k\do\l\do\m\do\n\do\o\do\p\do\q\do\r\do\s\do\t
  \do\u\do\v\do\w\do\x\do\y\do\z\do\A\do\B\do\C\do\D
  \do\E\do\F\do\G\do\H\do\I\do\J\do\K\do\L\do\M\do\N
  \do\O\do\P\do\Q\do\R\do\S\do\T\do\U\do\V\do\W\do\X
  \do\Y\do\Z}
  
% Tables
\usepackage{booktabs}
\usepackage{longtable}
\setlength\defaultaddspace{4pt}
\setlength\belowrulesep{6pt}
\usepackage{caption} 
\captionsetup[table]{skip=6pt}

% Document strucutre (toc & co)
\usepackage{changepage}
\usepackage{titling}
\usepackage{tocloft}
\renewcommand{\lstlistlistingname}{List of Source Code Listings}
\usepackage{appendix}


% Figures
\usepackage{graphicx}
\graphicspath{{figures/}}
\usepackage{floatrow}
\floatsetup[table]{capposition=bottom}


\newfont{\eaddfnt}{phvr8t at 12pt}
\newcommand\at{\eaddfnt @}
\usepackage{color}
\newcommand\TODO[1]{\emph{\color{red} TODO: #1}}
