% Fonts
\usepackage[english]{babel}
\usepackage[log-declarations=false]{xparse}
\usepackage{luainputenc}
\usepackage{fontspec}
\pdfprotrudechars=2
\pdfadjustspacing=2
\newfontfeature{Microtype}{protrusion=default;expansion=default;}
\setmainfont[Microtype, Ligatures=TeX]{Adobe Caslon Pro}
\setmonofont{Bitstream Vera Sans Mono}
\directlua{fonts.protrusions.setups.default.factor=.5}

% Scala format
\usepackage{listings}

\lstdefinelanguage{Scala}{
  morekeywords={abstract, case, catch, char, class, def, else, extends, final, if, import, match, module, new, null, object, override, package, private, protected, public, return, super, this, throw, trait, try, type, val, var, with, implicit, macro, sealed, true, false},
  sensitive,
  morecomment=[l]//,
  morecomment=[s]{/*}{*/},
  morestring=[b]",
  morestring=[b]',
  showstringspaces=false
}[keywords, comments, strings]

\lstset{
  tabsize=2,
  basicstyle=\ttfamily\fontsize{9pt}{1.1em}\selectfont,
  keywordstyle=\bfseries,
  commentstyle=\itshape\rmfamily,
  language=scala,
  breaklines=false,
  mathescape=false,
  showspaces=false,
  showstringspaces=false,
  classoffset=0pt,
  xleftmargin=40pt,
  aboveskip=0pt,
  belowskip=0pt
}

% Quotes
\usepackage[autostyle=false, style=english]{csquotes}
\MakeOuterQuote{"}

% Margins
\usepackage{titling}
\setlength{\droptitle}{-1.9cm}

% Links
\usepackage{silence}
\WarningsOff*
\usepackage[hidelinks]{hyperref}
\WarningsOn

% Tables
\usepackage{booktabs}
\usepackage{longtable}
\setlength\defaultaddspace{4pt}
\setlength\belowrulesep{6pt}

\newfont{\eaddfnt}{phvr8t at 12pt}
\newcommand\at{\eaddfnt @}

\usepackage{color}
\newcommand\TODO[1]{\emph{\color{red} TODO: #1}}
